---
tags:
  - TODO
aliases:
  - vincoli di flusso
  - conservazione del flusso
  - ammissibilità del flusso
  - sbilanciamento
  - flusso
data: "`2025-03-05 09:13`"
---
- # Problema dei router:
	-  ![[problema dei router.excalidraw]]
	- Classico problema di minimizzazione del costo di flusso.
- # Intro:
	- Tutti i problemi sulle reti possono essere considerati come problemi di [[Programmazione lineare]].
	- Si lavora con dei [[Grafi#^792110| Grafi pesati]] $G=(N,A)$, di solito diretti, che rappresentano le _Reti_. 
	- Gli _archi_ sono interpretabili come i _canali_ in cui fluiscono gli oggetti, rappresentati con grandezze:
		- Discrete: come passeggeri o veicoli
		- Continue: fluidi
	- I _Nodi_ indicano i punti di ingresso o uscita dei suddetti oggetti 
- # Terminologia:
	- ## Sbilanciamento:
		- Ad ogni nodo $i\in N$ si associa un $b_{i}$ detto _sbilanciamento_ che può essere:
			- _positivo_:
				- Ovvero il nodo $i$ è di uscita ed è detto di _destinazione/pozzo_
				- $b_i$ è la _domanda_ di $i$
			- _negativo_:
				- Il nodo $i$ è di entrata ed è detto di _origine/sorgente_
				- $-b_{i}$ è l’_offerta_ di $i$
			- _nullo_:
				- Nodo $i$ è detto di _trasferimento_.
	- ## Archi:
		- Ad ogni arco $(i,j)\in A$ sono associati:
			- _Costo_:
				- il costo ($c_{ij}$) per un’oggetto per l’attraversamento del canale 
			- _Capacità inferiore_:
				- limite inferiore ($l_{ij}$) di quantità di oggetti che possono passare per un canale
			- _Capacità superiore_: 
				- limite superiore ($u_ij$) di quantità di oggetti che possono passare per un canale
		- ![[Pasted image 20250305094554.png|400]]
	- ## Flusso:
		- Assegnamento di valori reali agli archi di una certa rete $G=(N,A)$
		- Formalizzato tramite una sequenza di variabili $x_{ij}$ ed ognuno corrisponde ad un arco della rete.
		- _Costo_: costo complessivo di tutti i flussi presenti nella rete.
- # Vincoli:
	- ## Domanda e offerta globale si equivalgono:
		- $$\sum\limits_{i\in D}b_{i}= -\sum\limits_{i\in O}b_{i}\iff \sum\limits_{i\in N}b_{i}=0$$
			- $D=\{i \in N | b_{i} >0\}$ e $O=\{i \in N| b_{i}<0\}$
	- ## Conservazione del flusso:
		- $$\sum\limits_{(i,j)\in BS(i)}x_{ij}-\sum\limits_{(i,j)\in FS(i)}x_{ij}=b_{i}\ \ \ \ \ \forall i \in N$$
			- Ovvero ciò che entra in un nodo è uguale a ciò che esce meno lo sbilanciamento.
			- $BS(i)=\{(k,i)|(k,i)\in A\}$ insieme degli archi entranti in $i$
			- $FS(i)= \{(i,k)|(i,k)\in A\}$ insieme degli archi uscenti da $i$
	- ## Ammissibilità del flusso:
		- $$l_{ij}\le x_{ij} \le u_{ij}\ \ \ (i,j)\in A$$
- # Problemi di flusso:
	- Rappresentano un compromesso tra:
		- ___Complessità___:
			- visto che esistono vari algoritmi efficienti per risolverli anche per i più generali 
		- ___Espressività___: 
			- molti problemi generici si possono esprime come istanze di problemi di flusso.
	- Spesso si fanno ipotesi semplificative, come imporre $l_{ij}=0$ per ogni arco, quindi le _capacità inferiori_ sono sempre nulle.
		- Spesso fare questa ipotesi non cambia l’espressività del problema 
		- ## ES:
			- Trasformare una rete $G$ in una equivalente $H$ con le capacità inferiori nulle
			- Si sottrae $l_{ij}$ a $b_{j}$ e a $u_{ij}$
			- Si aggiunge $l_{ij}$ a $b_{j}$ 
			- Si aggiunge la seguente quantità alla [[Programmazione lineare intera (PLI)#^fbc927|funzione obiettivo]]:
				- $$\sum\limits_{(i,j)\in A}c_{ij}*l_{ij}$$
			- Quindi il flusso $x_{ij}$ in $G$ corrisponde a $x_{ij}+l_{ij}$ in $H$
- # Problema di flusso di costo minimo (MCF):
	- _Minimum cost flow_:
	- Il costo del flusso è la funzione obiettivo.
	- $l_{ij}=0 \ \ \ \forall (i,j)\in A$
	- Esprimibile come problema di [[Programmazione lineare]]:
		- $$\min cx$$
		- $$0\le x\le u\ \ \ \ Ex=b$$
		- Dove:
			- $c\in \mathbb{R}^{|A|}$ è il vettore dei costi.
			- $u\in \mathbb{R}^{|A|}$ vettore delle capacità superiori.
			- $E in \mathbb{R}^{|N|\times|A|}$ matrice di incidenza tra nodi ed archi.
			- $b$ vettore di sbilanciamenti
	- Spesso si assume che ci sia una sola _sorgente_ e un solo _pozzo_
		- Si aggiungono 2 nodi finti corrispondenti a 1 sorgente e 1 pozzo rispettivamente.
		- Si aggiungono archi finti dalla sorgente ad ogni sorgente di partenza. Ogni arco aggiunto avrà _costo nullo_, e capacità superiore pari all’_inverso dello sbilanciamento della sorgente_
			- Cosa analoga si fa con il nodo _pozzo_
		- Lo sbilanciamento della nuova _sorgente_ è la somma degli sbilanciamenti delle sorgenti di partenza. Cosa simile per i pozzi.
	- Si assume spesso anche che ogni nodo abbia una _capacità_, ovvero che solo una quantità $\in [l_{ij},u_{ij}]$ possa passare per il nodo $i$
		- Modellabile grazie allo _sdoppiamento_ di ciascun nodo $i$ in $i',i''$:
			- Tutti gli archi $(k,i)$ entreranno in $i'$
			- Tutti gli archi $(i,k)$ partiranno invece da $i''$
			- Si crea un arco fittizio $(i′, i′′)$ con costo nullo, capacità Inferiore $l_{i}$ e capacità superiore $u_{i}$
- # problema di flusso massimo (MF):
	- Maximum flow. 
	- Cambia la funzione obiettivo, nella quale si vogliono massimizzare i flussi.
	- Può essere inteso come un particolare MCF in quanto i parametri sono diventati variabili.
		- I costi sono nulli.
		- Gli sbilanciamenti sono nulli
		- Si aggiunge però un arco fittizio da ($t,  s$) con costo $−1$ e Capacità $\infty$.
		- ![[Pasted image 20250305102744.png|450]]
	- ## Algoritmi:
		- ### Tagli:
			- Data una rete $G=(N,A)$ e una coppia $(N',N'')$ di sottoinsiemi di $N$ tali che $N' \cap N''=\emptyset$ e $N' \cup N''=N$
			- Un $(s,t)$ _-taglio_ è un tipo di taglio $(N_{s},N_{t})$ dove $s\in N_{s}\wedge t\in N_{t}$ 
			- Dato un $(s,t)$ -taglio di un grafo $G$ si indica con $A^{+}(N_{s},N_{t})$ e $A^{-}(N_{s},N_{t})$ i seguenti sottoinsiemi:
				- $$A^{+}(N_{s},N_{t})=\{(i,j)\in A|i\in N_{s}\wedge j\in N_{t}\}$$
				- $$A^{-}(N_{s},N_{t})=\{(i,j)\in A|j\in N_{s}\wedge i\in N_{t}\}$$
			- #### Lemma:
				- $\forall(s,t)$ -taglio e ogni flusso ammissibile $x$ con valore $v$:
					- 1) $$v=\sum\limits_{(i,j)\in A^{+}(N_{s},N_{t})}x_{ij} - \sum\limits_{(i,j)\in A^{-}(N_{s},N_{t})}x_{ij}$$
					- 2) $$v\le \sum\limits_{(i,j)\in A^{+}(N_{s},N_{t})}u_{ij} $$
				- 
- # Link Utili:
	- 